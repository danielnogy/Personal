@page "/settings/tokenSettings"
@attribute [Authorize]

<MudText Typo="Typo.h5" Color="Color.Primary">@Resource.Token_Settings</MudText>
<EditForm Model="TokenSettingsForEdit" OnValidSubmit="SubmitForm">
    <EditContextApiExceptionFallback @ref="EditContextApiExceptionFallback" />
    <MudHidden @bind-Value="TokenSettingsForEdit.Id" />
    <MudHidden @bind-Value="TokenSettingsForEdit.ConcurrencyStamp" />
    <MudCard>
        <MudCardContent>
            <MudGrid>
                <MudItem xs="8">
                    <MudNumericField Label="@Resource.Access_Token_TimeSpan"
                                     Variant="Variant.Outlined"
                                     @bind-Value="TokenSettingsForEdit.AccessTokenTimeSpan"
                                     For="@(() => TokenSettingsForEdit.AccessTokenTimeSpan)" />
                </MudItem>
                <MudItem xs="4">
                    <MudSelect T="int" Label="@Resource.Units_of_Time" Strict="true" Variant="Variant.Outlined" @bind-Value="TokenSettingsForEdit.AccessTokenUoT">
                        <MudSelectItem Value="(int) UnitOfTime.Minutes">@Resource.Minute</MudSelectItem>
                        <MudSelectItem Value="(int) UnitOfTime.Hours">@Resource.Hour</MudSelectItem>
                        <MudSelectItem Value="(int) UnitOfTime.Days">@Resource.Day</MudSelectItem>
                        <MudSelectItem Value="(int) UnitOfTime.Month">@Resource.Month</MudSelectItem>
                    </MudSelect>
                </MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem xs="8">
                    <MudNumericField Label="@Resource.Refresh_Token_TimeSpan"
                                     Variant="Variant.Outlined"
                                     @bind-Value="TokenSettingsForEdit.RefreshTokenTimeSpan"
                                     For="@(() => TokenSettingsForEdit.RefreshTokenTimeSpan)" />
                </MudItem>
                <MudItem xs="4">
                    <MudSelect T="int" Label="@Resource.Units_of_Time" Strict="true" Variant="Variant.Outlined" @bind-Value="TokenSettingsForEdit.RefreshTokenUoT">
                        <MudSelectItem Value="(int) UnitOfTime.Minutes">@Resource.Minute</MudSelectItem>
                        <MudSelectItem Value="(int) UnitOfTime.Hours">@Resource.Hour</MudSelectItem>
                        <MudSelectItem Value="(int) UnitOfTime.Days">@Resource.Day</MudSelectItem>
                        <MudSelectItem Value="(int) UnitOfTime.Month">@Resource.Month</MudSelectItem>
                    </MudSelect>
                </MudItem>
            </MudGrid>
        </MudCardContent>
        <MudCardActions Class="pb-4 pl-4">
            <MudButton ButtonType="ButtonType.Submit"
                       Variant="Variant.Filled"
                       Color="Color.Primary"
                       Class="ml-auto"
                       FullWidth="true">
                <MudText>@Resource.Save</MudText>
            </MudButton>
        </MudCardActions>
        <MudDivider />
        <MudExpansionPanels>
            <MudExpansionPanel Text="@Resource.Validation_Summary" IsExpanded="true" Disabled="true" HideIcon="true">
                <MudText Color="@Color.Error">
                    <ValidationSummary />
                </MudText>
            </MudExpansionPanel>
        </MudExpansionPanels>
    </MudCard>
</EditForm>
